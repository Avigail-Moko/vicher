<div class="m-5 flex flex-row">
  <mat-card class="product-card">
    <mat-card-header class="flex flex-column p-0">
      <img
        class="header-image"
        [src]="product.image.src"
        width="250px"
        alt="{{ product.image.filename }}"
      />
      <div class="flex px-2">
        <div
          mat-card-avatar
          class="content-image"
          [style.background-image]="'url(' + product.userProfileImage + ')'"
        ></div>
        <mat-card-title class="text-sm ml-2 font-italic text-100">
          <span class="text-400">Ad by </span>
          {{ product.userProfileName }}</mat-card-title
        >
      </div>
    </mat-card-header>
    <mat-card-content class="p-3">
      <mat-card-title class="text-100">{{
        product.lesson_title
      }}</mat-card-title>
      <div class="flex flex-row justify-content-between">
        <mat-card-subtitle
          ><i class="pi pi-tag text-sm"></i>
          {{ product.category }}</mat-card-subtitle
        >
        <span class="font-bold text-100">{{ "â‚ª" + " " + product.price }}</span>
      </div>
      <mat-card-subtitle
        >lesson length: {{ product.length }} min.</mat-card-subtitle
      >
    </mat-card-content>
    <mat-card-footer class="px-3">
      <p class="overflow-hidden text-overflow-ellipsis text-100">
        {{ product.description }}
      </p>
    </mat-card-footer>
  </mat-card>

  <full-calendar #calendar [options]="calendarOptions" class="mx-5">
  </full-calendar>
  <div
    class="flex flex-column justify-content-between "
    style="width: 200px"
  >

    <div>
        <div *ngIf="!this.selectedLesson && this.appointmentGuid===1">
            <p class="text-100">First, please select a preferred available date on the calendar</p>
                <svg height="55px" width="55px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-23.13 -23.13 508.80 508.80" xml:space="preserve" fill="#000000" stroke="#000000" transform="rotate(-45)matrix(-1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#b3b3b3" stroke-width="27.752339999999997"> <g> <path style="fill:#c2185b;" d="M275.086,270.955c-19.705,30.711-47.409,71.378-68.286,92.057c1.956,0.066,3.915,0.099,5.848,0.099 c94.095,0,161.003-76.664,217.257-122.081c-55.223-42.845-105.15-109.051-202.966-126.548c-1.702-0.305-3.316,0.947-4.039,2.518 c-0.06,0.13-0.102,0.264-0.148,0.397c14.76,18.076,30.833,41.291,44.455,62.047c6.362,9.386,12.426,18.645,17.877,27.14 c-79.07,3.854-158.14,2.85-237.209-3.04c-16.674,19.873-21.715,39.745-15.123,59.618c1.325,3.994,3.306,7.619,5.791,10.786 c47.517-3.523,95.043-5.285,142.559-5.285C212.434,268.664,243.755,269.428,275.086,270.955z"></path> <path style="fill:#000000;" d="M212.648,99.428c101.226,0,171.009,88.753,229.892,131.842 c-58.886,43.091-128.654,131.841-229.891,131.841c-1.933,0-3.892-0.033-5.848-0.099c20.877-20.679,48.581-61.346,68.286-92.057 c-31.331-1.527-62.652-2.291-93.982-2.291c-47.739,0-95.488,1.775-143.227,5.332c-23.899-28.483-23.899-56.968,0-85.451 c47.744,3.557,95.478,5.331,143.222,5.331c31.326,0,62.661-0.764,93.987-2.291c-19.705-30.71-47.408-71.378-68.285-92.058 C208.763,99.461,210.708,99.428,212.648,99.428 M212.648,79.428c-2.16,0-4.353,0.037-6.52,0.11 c-7.98,0.269-15.036,5.257-17.949,12.691c-2.913,7.434-1.126,15.888,4.546,21.507c11.483,11.374,27.456,31.945,46.108,59.263 c-19.279,0.583-38.593,0.876-57.735,0.876c-47.053,0-94.74-1.775-141.737-5.276c-0.497-0.037-0.994-0.055-1.488-0.055 c-5.886,0-11.504,2.597-15.319,7.145c-30.074,35.842-30.074,75.32,0,111.162c3.815,4.547,9.434,7.145,15.319,7.145 c0.495,0,0.99-0.018,1.488-0.055c46.998-3.501,94.687-5.276,141.741-5.276c19.142,0,38.452,0.293,57.73,0.876 c-18.652,27.318-34.624,47.888-46.108,59.263c-5.673,5.619-7.46,14.073-4.547,21.507c2.913,7.434,9.969,12.423,17.949,12.691 c2.166,0.073,4.36,0.11,6.521,0.11c84.784,0,148.184-55.605,199.127-100.284c15.088-13.232,29.339-25.731,42.574-35.417 c5.147-3.767,8.189-9.762,8.189-16.14s-3.042-12.374-8.189-16.14c-13.234-9.684-27.484-22.181-42.57-35.412 C360.832,135.036,297.426,79.428,212.648,79.428L212.648,79.428z"></path> </g> </g><g id="SVGRepo_iconCarrier"> <g> <path style="fill:#c2185b;" d="M275.086,270.955c-19.705,30.711-47.409,71.378-68.286,92.057c1.956,0.066,3.915,0.099,5.848,0.099 c94.095,0,161.003-76.664,217.257-122.081c-55.223-42.845-105.15-109.051-202.966-126.548c-1.702-0.305-3.316,0.947-4.039,2.518 c-0.06,0.13-0.102,0.264-0.148,0.397c14.76,18.076,30.833,41.291,44.455,62.047c6.362,9.386,12.426,18.645,17.877,27.14 c-79.07,3.854-158.14,2.85-237.209-3.04c-16.674,19.873-21.715,39.745-15.123,59.618c1.325,3.994,3.306,7.619,5.791,10.786 c47.517-3.523,95.043-5.285,142.559-5.285C212.434,268.664,243.755,269.428,275.086,270.955z"></path> <path style="fill:#000000;" d="M212.648,99.428c101.226,0,171.009,88.753,229.892,131.842 c-58.886,43.091-128.654,131.841-229.891,131.841c-1.933,0-3.892-0.033-5.848-0.099c20.877-20.679,48.581-61.346,68.286-92.057 c-31.331-1.527-62.652-2.291-93.982-2.291c-47.739,0-95.488,1.775-143.227,5.332c-23.899-28.483-23.899-56.968,0-85.451 c47.744,3.557,95.478,5.331,143.222,5.331c31.326,0,62.661-0.764,93.987-2.291c-19.705-30.71-47.408-71.378-68.285-92.058 C208.763,99.461,210.708,99.428,212.648,99.428 M212.648,79.428c-2.16,0-4.353,0.037-6.52,0.11 c-7.98,0.269-15.036,5.257-17.949,12.691c-2.913,7.434-1.126,15.888,4.546,21.507c11.483,11.374,27.456,31.945,46.108,59.263 c-19.279,0.583-38.593,0.876-57.735,0.876c-47.053,0-94.74-1.775-141.737-5.276c-0.497-0.037-0.994-0.055-1.488-0.055 c-5.886,0-11.504,2.597-15.319,7.145c-30.074,35.842-30.074,75.32,0,111.162c3.815,4.547,9.434,7.145,15.319,7.145 c0.495,0,0.99-0.018,1.488-0.055c46.998-3.501,94.687-5.276,141.741-5.276c19.142,0,38.452,0.293,57.73,0.876 c-18.652,27.318-34.624,47.888-46.108,59.263c-5.673,5.619-7.46,14.073-4.547,21.507c2.913,7.434,9.969,12.423,17.949,12.691 c2.166,0.073,4.36,0.11,6.521,0.11c84.784,0,148.184-55.605,199.127-100.284c15.088-13.232,29.339-25.731,42.574-35.417 c5.147-3.767,8.189-9.762,8.189-16.14s-3.042-12.374-8.189-16.14c-13.234-9.684-27.484-22.181-42.57-35.412 C360.832,135.036,297.426,79.428,212.648,79.428L212.648,79.428z"></path> </g> </g></svg>
        </div>
        <div *ngIf="!this.selectedLesson && this.appointmentGuid===2">
            <p class="text-100">Now, choose a desired time from the available time slots</p>
            <div class="flex justify-content-center">

                <svg height="50px" width="55px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-23.13 -23.13 508.80 508.80" xml:space="preserve" fill="#000000" stroke="#000000" transform="rotate(90)matrix(1, 0, 0, -1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#b3b3b3" stroke-width="27.752339999999997"> <g> <path style="fill:#c2185b;" d="M275.086,270.955c-19.705,30.711-47.409,71.378-68.286,92.057c1.956,0.066,3.915,0.099,5.848,0.099 c94.095,0,161.003-76.664,217.257-122.081c-55.223-42.845-105.15-109.051-202.966-126.548c-1.702-0.305-3.316,0.947-4.039,2.518 c-0.06,0.13-0.102,0.264-0.148,0.397c14.76,18.076,30.833,41.291,44.455,62.047c6.362,9.386,12.426,18.645,17.877,27.14 c-79.07,3.854-158.14,2.85-237.209-3.04c-16.674,19.873-21.715,39.745-15.123,59.618c1.325,3.994,3.306,7.619,5.791,10.786 c47.517-3.523,95.043-5.285,142.559-5.285C212.434,268.664,243.755,269.428,275.086,270.955z"></path> <path style="fill:#000000;" d="M212.648,99.428c101.226,0,171.009,88.753,229.892,131.842 c-58.886,43.091-128.654,131.841-229.891,131.841c-1.933,0-3.892-0.033-5.848-0.099c20.877-20.679,48.581-61.346,68.286-92.057 c-31.331-1.527-62.652-2.291-93.982-2.291c-47.739,0-95.488,1.775-143.227,5.332c-23.899-28.483-23.899-56.968,0-85.451 c47.744,3.557,95.478,5.331,143.222,5.331c31.326,0,62.661-0.764,93.987-2.291c-19.705-30.71-47.408-71.378-68.285-92.058 C208.763,99.461,210.708,99.428,212.648,99.428 M212.648,79.428c-2.16,0-4.353,0.037-6.52,0.11 c-7.98,0.269-15.036,5.257-17.949,12.691c-2.913,7.434-1.126,15.888,4.546,21.507c11.483,11.374,27.456,31.945,46.108,59.263 c-19.279,0.583-38.593,0.876-57.735,0.876c-47.053,0-94.74-1.775-141.737-5.276c-0.497-0.037-0.994-0.055-1.488-0.055 c-5.886,0-11.504,2.597-15.319,7.145c-30.074,35.842-30.074,75.32,0,111.162c3.815,4.547,9.434,7.145,15.319,7.145 c0.495,0,0.99-0.018,1.488-0.055c46.998-3.501,94.687-5.276,141.741-5.276c19.142,0,38.452,0.293,57.73,0.876 c-18.652,27.318-34.624,47.888-46.108,59.263c-5.673,5.619-7.46,14.073-4.547,21.507c2.913,7.434,9.969,12.423,17.949,12.691 c2.166,0.073,4.36,0.11,6.521,0.11c84.784,0,148.184-55.605,199.127-100.284c15.088-13.232,29.339-25.731,42.574-35.417 c5.147-3.767,8.189-9.762,8.189-16.14s-3.042-12.374-8.189-16.14c-13.234-9.684-27.484-22.181-42.57-35.412 C360.832,135.036,297.426,79.428,212.648,79.428L212.648,79.428z"></path> </g> </g><g id="SVGRepo_iconCarrier"> <g> <path style="fill:#c2185b;" d="M275.086,270.955c-19.705,30.711-47.409,71.378-68.286,92.057c1.956,0.066,3.915,0.099,5.848,0.099 c94.095,0,161.003-76.664,217.257-122.081c-55.223-42.845-105.15-109.051-202.966-126.548c-1.702-0.305-3.316,0.947-4.039,2.518 c-0.06,0.13-0.102,0.264-0.148,0.397c14.76,18.076,30.833,41.291,44.455,62.047c6.362,9.386,12.426,18.645,17.877,27.14 c-79.07,3.854-158.14,2.85-237.209-3.04c-16.674,19.873-21.715,39.745-15.123,59.618c1.325,3.994,3.306,7.619,5.791,10.786 c47.517-3.523,95.043-5.285,142.559-5.285C212.434,268.664,243.755,269.428,275.086,270.955z"></path> <path style="fill:#000000;" d="M212.648,99.428c101.226,0,171.009,88.753,229.892,131.842 c-58.886,43.091-128.654,131.841-229.891,131.841c-1.933,0-3.892-0.033-5.848-0.099c20.877-20.679,48.581-61.346,68.286-92.057 c-31.331-1.527-62.652-2.291-93.982-2.291c-47.739,0-95.488,1.775-143.227,5.332c-23.899-28.483-23.899-56.968,0-85.451 c47.744,3.557,95.478,5.331,143.222,5.331c31.326,0,62.661-0.764,93.987-2.291c-19.705-30.71-47.408-71.378-68.285-92.058 C208.763,99.461,210.708,99.428,212.648,99.428 M212.648,79.428c-2.16,0-4.353,0.037-6.52,0.11 c-7.98,0.269-15.036,5.257-17.949,12.691c-2.913,7.434-1.126,15.888,4.546,21.507c11.483,11.374,27.456,31.945,46.108,59.263 c-19.279,0.583-38.593,0.876-57.735,0.876c-47.053,0-94.74-1.775-141.737-5.276c-0.497-0.037-0.994-0.055-1.488-0.055 c-5.886,0-11.504,2.597-15.319,7.145c-30.074,35.842-30.074,75.32,0,111.162c3.815,4.547,9.434,7.145,15.319,7.145 c0.495,0,0.99-0.018,1.488-0.055c46.998-3.501,94.687-5.276,141.741-5.276c19.142,0,38.452,0.293,57.73,0.876 c-18.652,27.318-34.624,47.888-46.108,59.263c-5.673,5.619-7.46,14.073-4.547,21.507c2.913,7.434,9.969,12.423,17.949,12.691 c2.166,0.073,4.36,0.11,6.521,0.11c84.784,0,148.184-55.605,199.127-100.284c15.088-13.232,29.339-25.731,42.574-35.417 c5.147-3.767,8.189-9.762,8.189-16.14s-3.042-12.374-8.189-16.14c-13.234-9.684-27.484-22.181-42.57-35.412 C360.832,135.036,297.426,79.428,212.648,79.428L212.648,79.428z"></path> </g> </g></svg>
            </div></div>
        <div *ngIf="this.selectedLesson">
            <p class="text-100">Finally, click on 'Save Date' to confirm the appointment.</p>
            <div class="flex justify-content-end">
                <svg height="55px" width="55px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-22.66 -22.66 498.58 498.58" xml:space="preserve" fill="#000000" transform="matrix(-1, 0, 0, -1, 0, 0)rotate(0)" stroke="#000000" stroke-width="0.0045325999999999995"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#b5b5b5" stroke-width="27.195599999999995"> <g> <path style="fill:#000000;" d="M157.911,20c2.56,0,5.121,0.977,7.074,2.93l69.241,69.241c1.325,1.324,1.721,3.316,1.004,5.047 s-2.405,2.859-4.279,2.859h-29.53c-5.526,0-10.005,4.479-10.005,10.004v99.65c0,5.525,4.479,10.005,10.005,10.005H363.03 c5.525,0,10.003,4.48,10.003,10.005c0,31.612,0,129.85,0,193.511c0,4.847-3.476,8.997-8.247,9.85 c-0.592,0.106-1.183,0.157-1.767,0.157c-4.123,0-7.908-2.557-9.379-6.54L305.46,296.257c-1.45-3.927-5.192-6.536-9.377-6.539 l-163.009-0.124c-5.522-0.004-9.997-4.482-9.997-10.004V110.082c0-5.525-4.479-10.004-10.005-10.004l-28.202,0 c-1.873,0-3.562-1.128-4.279-2.859c-0.717-1.73-0.321-3.722,1.004-5.047l69.241-69.241C152.79,20.977,155.35,20,157.911,20 M157.911,0c-8.015,0-15.55,3.121-21.217,8.789l-69.24,69.24c-7.07,7.071-9.165,17.606-5.339,26.843 c3.824,9.236,12.757,15.205,22.756,15.205l18.206,0V279.59c0,16.533,13.45,29.993,29.983,30.004l156.05,0.119l45.77,123.936 c4.332,11.729,15.641,19.611,28.141,19.611c1.766,0,3.544-0.158,5.285-0.469c14.329-2.562,24.728-14.984,24.728-29.538V229.742 c0-16.545-13.459-30.005-30.003-30.005H211.416v-79.66h19.535c9.998,0,18.93-5.968,22.756-15.205 c3.827-9.239,1.73-19.776-5.342-26.846L179.127,8.788C173.46,3.121,165.925,0,157.911,0L157.911,0z"></path> <path style="fill:#c2185b;" d="M363.03,236.737H201.421c-5.526,0-10.005-4.479-10.005-10.005v-16.999v-0.001v-99.65 c0-5.525,4.479-10.004,10.005-10.004h23.711L164.985,39.93c-3.907-3.907-10.242-3.907-14.149,0l-60.147,60.146l22.382,0 c5.525,0,10.005,4.479,10.005,10.004V279.59c0,5.522,4.475,10,9.997,10.004l163.009,0.124c4.186,0.003,7.927,2.612,9.377,6.539 L353.64,426.72c1.471,3.982,5.256,6.54,9.379,6.54c0.584,0,1.175-0.051,1.767-0.157c4.771-0.853,8.246-5.002,8.247-9.848 c0-28.539,0-61.532,0-91.775c0-36.468,0-68.931,0-84.737C373.033,241.217,368.554,236.737,363.03,236.737z"></path> </g> </g><g id="SVGRepo_iconCarrier"> <g> <path style="fill:#000000;" d="M157.911,20c2.56,0,5.121,0.977,7.074,2.93l69.241,69.241c1.325,1.324,1.721,3.316,1.004,5.047 s-2.405,2.859-4.279,2.859h-29.53c-5.526,0-10.005,4.479-10.005,10.004v99.65c0,5.525,4.479,10.005,10.005,10.005H363.03 c5.525,0,10.003,4.48,10.003,10.005c0,31.612,0,129.85,0,193.511c0,4.847-3.476,8.997-8.247,9.85 c-0.592,0.106-1.183,0.157-1.767,0.157c-4.123,0-7.908-2.557-9.379-6.54L305.46,296.257c-1.45-3.927-5.192-6.536-9.377-6.539 l-163.009-0.124c-5.522-0.004-9.997-4.482-9.997-10.004V110.082c0-5.525-4.479-10.004-10.005-10.004l-28.202,0 c-1.873,0-3.562-1.128-4.279-2.859c-0.717-1.73-0.321-3.722,1.004-5.047l69.241-69.241C152.79,20.977,155.35,20,157.911,20 M157.911,0c-8.015,0-15.55,3.121-21.217,8.789l-69.24,69.24c-7.07,7.071-9.165,17.606-5.339,26.843 c3.824,9.236,12.757,15.205,22.756,15.205l18.206,0V279.59c0,16.533,13.45,29.993,29.983,30.004l156.05,0.119l45.77,123.936 c4.332,11.729,15.641,19.611,28.141,19.611c1.766,0,3.544-0.158,5.285-0.469c14.329-2.562,24.728-14.984,24.728-29.538V229.742 c0-16.545-13.459-30.005-30.003-30.005H211.416v-79.66h19.535c9.998,0,18.93-5.968,22.756-15.205 c3.827-9.239,1.73-19.776-5.342-26.846L179.127,8.788C173.46,3.121,165.925,0,157.911,0L157.911,0z"></path> <path style="fill:#c2185b;" d="M363.03,236.737H201.421c-5.526,0-10.005-4.479-10.005-10.005v-16.999v-0.001v-99.65 c0-5.525,4.479-10.004,10.005-10.004h23.711L164.985,39.93c-3.907-3.907-10.242-3.907-14.149,0l-60.147,60.146l22.382,0 c5.525,0,10.005,4.479,10.005,10.004V279.59c0,5.522,4.475,10,9.997,10.004l163.009,0.124c4.186,0.003,7.927,2.612,9.377,6.539 L353.64,426.72c1.471,3.982,5.256,6.54,9.379,6.54c0.584,0,1.175-0.051,1.767-0.157c4.771-0.853,8.246-5.002,8.247-9.848 c0-28.539,0-61.532,0-91.775c0-36.468,0-68.931,0-84.737C373.033,241.217,368.554,236.737,363.03,236.737z"></path> </g> </g></svg>
        </div></div>
      <h1 *ngIf="isTaken" class="text-base text-white">
        there is no open lessons for this date.
      </h1>
      <ng-container *ngFor="let timeRange of timeRanges">
        <ng-container *ngIf="areThereLessonsInTimeRange(timeRange)">
          <p class="text-100">{{ timeRange }}</p>
          <mat-chip-listbox>
            <ng-container *ngFor="let lesson of lessonsArray">
              <ng-container *ngIf="getTimeOfDay(lesson) === timeRange">
                <mat-chip-option
                  (click)="choosingTime(lesson)"
                  [selected]="isSelected(lesson)"
                >
                  {{ lesson }}
                </mat-chip-option>
              </ng-container>
            </ng-container>
          </mat-chip-listbox>
          <br />
        </ng-container>
      </ng-container>
    </div>
    <div class="flex justify-content-end">
      <p-button
        (click)="createLesson()"
        *ngIf="!(this.lessonsArray.length == this.comparisonArray.length)"
        >Save Date</p-button
      >
    </div>
  </div>
</div>
